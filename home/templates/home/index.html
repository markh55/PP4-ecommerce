{% extends "core/base.html" %}
{% load static %}
{% load crispy_forms_tags %}

{% block content %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'home/css/index.css' %}" />
<link rel="stylesheet" href="{% static 'home/css/form.css' %}"/>
<link rel="stylesheet" href="{% static 'packages/css/package_detail.css' %}"/>
{% endblock %}

<!-- Hero -->
<section class="hero-section text-center">
  <img
    src="{% static 'images/hero.png' %}"
    alt="Hero Image"
    class="hero-image"
  />

  <div
    class="hero-overlay d-flex flex-column justify-content-center align-items-center"
  >
    <h1 class="fade-in-left">Build Your Online Presence with WebWorks.</h1>
    <h2 class="fade-left" style="animation-delay: 0.2s">
      Professional Web Design and Development Services
    </h2>
    <p class="fade-in-right" style="animation-delay: 0.4s">
      From essential support to fully custom solutions, our tiered service
      packages. Bronze, Silver, Gold, and Platinum,
    </p>
    <p class="fade-in-right" style="animation-delay: 0.6s">
      Give your business exactly what it needs to thrive.
    </p>
  </div>
</section>

<!-- What We Offer -->
<section id="packages" class="container my-5">
  <h3 class="mb-5">What We Offer</h3>
  <div class="row">
    {% for package in packages %}
    <div class="col-lg-3 col-md-6 col-sm-12 mb-4 d-flex">
      <a href="{{ package.get_absolute_url }}" class="card flex-fill h-100 text-decoration-none text-dark package-card">
        {% if package.image %}
        <img
          src="{{ package.image.url }}"
          class="card-img-top"
          alt="{{ package.name }}"
        />
        {% endif %}
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">{{ package.name }}</h5>
          <p class="card-text">£{{ package.price }}</p>
          <p class="card-intro">{{ package.intro }}</p>
        </div>
      </a>
    </div>
    {% endfor %}
  </div>
</section>

<!-- Reviews Section -->
<section class="reviews-section">
  <div class="container">
    <h3 class="text-center mb-5">What Our Clients Say</h3>
    <div class="reviews-carousel-wrapper">
      <div class="reviews-carousel">
        {% if recent_reviews %}
          {% for review in recent_reviews %}
          <div class="review-card-horizontal">
            <h5>{{ review.title }}</h5>
            <p>{{ review.body }}</p>
            <small>{{ review.user.username }}, {{ review.created_at|date:"F j, Y" }}</small>
          </div>
          {% endfor %}
        {% else %}
          <p>No reviews yet.</p>
        {% endif %}
      </div>
    </div>
  </div>
</section>

<!-- Contact Section -->
<section class="contact-section">
  <img
    src="{% static 'images/hero.png' %}"
    alt="Background"
    class="contact-image"
  />

  <div class="contact-overlay" id="contact">
    <div class="container">
      <div class="contact-wrapper">
        <h3 class="contact-header">Contact Us</h3>
        <form method="post">
          {% csrf_token %}
          <div class="row mb-3">
            <div class="col">
              {{ form.name|as_crispy_field }}
            </div>
            <div class="col">
              {{ form.email|as_crispy_field }}
            </div>
          </div>

          <div class="row mb-3">
            <div class="col">
              {{ form.number|as_crispy_field }}
            </div>
            <div class="col">
              {{ form.inquiry_type|as_crispy_field }}
            </div>
          </div>

          <div class="mb-3">
            {{ form.message|as_crispy_field }}
          </div>

          <button type="submit" class="btn-submit">Send Message</button>
          <p class="form-note mt-2">We typically reply within 1–2 business days.</p>
        </form>
      </div>
    </div>
  </div>
</section>

{% endblock %}